<!DOCTYPE html>
<html lang="pt">
  <head>
    <meta charset="UTF-8" />
    <title>Loja do Bot do Cavaquinho</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        background: #181a1b;
        color: #e0e0e0;
      }
      h1 {
        color: #7fffd4;
      }
      a {
        color: #7fffd4;
      }
      table {
        border-collapse: collapse;
        width: 100%;
        max-width: 700px;
        margin: 2rem auto;
        background: #23272a;
      }
      th,
      td {
        border: 1px solid #333;
        padding: 8px 12px;
      }
      th {
        background: #222e26;
        color: #7fffd4;
      }
      tr:nth-child(even) {
        background: #23272a;
      }
      tr:nth-child(odd) {
        background: #181a1b;
      }
      .admin {
        color: #ff6b6b;
        font-weight: bold;
      }
      /* Optional: subtle link hover */
      a:hover {
        text-decoration: underline;
      }
    </style>
  </head>
  <body>
    <h1>üõí Loja</h1>
    <table>
      <tr>
        <th>Produto</th>
        <th>Pre√ßo</th>
      </tr>
      <tr>
        <td>Exemplo 1</td>
        <td>100 pontos</td>
      </tr>
      <tr>
        <td>Exemplo 2</td>
        <td>250 pontos</td>
      </tr>
      <!-- Preenche manualmente ou automatiza depois -->
    </table>
    <p><a href="index.html">‚Üê Voltar √† p√°gina inicial</a></p>

    <!-- ...restante do HTML... -->
    <table id="shopTable">
      <tr>
        <th>Produto</th>
        <th>Pre√ßo</th>
      </tr>
      <!-- Os produtos v√£o aparecer aqui -->
    </table>
    <p><a href="index.html">‚Üê Voltar √† p√°gina inicial</a></p>

    <!-- Firebase SDKs -->
    <script type="module">
      // Configura√ß√£o do Firebase Web SDK
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.1/firebase-app.js";
      import {
        getFirestore,
        collection,
        query,
        where,
        getDocs,
      } from "https://www.gstatic.com/firebasejs/10.11.1/firebase-firestore.js";

      const firebaseConfig = {
        apiKey: "AIzaSyDuMS9GHD3_zQQa5cRMUuA1YA5cjegoGDM",
        authDomain: "bot-cavaquinho.firebaseapp.com",
        projectId: "bot-cavaquinho",
      };

      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);

      async function carregarLoja() {
        const q = query(
          collection(db, "shop"),
          where("enabled", "in", [true, null])
        );
        const shopSnapshot = await getDocs(q);
        const table = document.getElementById("shopTable");
        shopSnapshot.forEach((doc) => {
          const data = doc.data();
          const row = document.createElement("tr");
          row.innerHTML = `<td>${data.product}</td><td>${data.price} pontos</td>`;
          table.appendChild(row);
        });
      }

      carregarLoja();
    </script>
  </body>
</html>
